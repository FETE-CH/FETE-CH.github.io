<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info">







    <link rel="dns-prefetch" href="https://fonts.proxy.ustclug.org">





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            Spring 学习笔记 | 
        
        新世界的Kami
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.ico">
    <link rel="icon" href="/img/logo.png">

    <meta name="format-detection" content="telephone=no">
    <meta name="description" itemprop="description" content="1. Spring 是什么？Spring是一个分层的 JavaSE/EE full-stack(一站式) 轻量级开源框架。
2. Spring IoC1. IoC 是什么Ioc 全称是 Inversion of Control 即“控制反转”，一种设计思想。
Ioc就是由容器来负责控制对象的生命周期和对象间的关系。IoC对编程带来的最大改变不是从代码上，而是从思想上，发生了“主从换位”的变化。应用程序原本是老大，要获取什么资源都是主动出击，但是在IoC/DI思想中，应用程序就变成被动的了，被动的等待IoC容器来创建并注入它所需要的资源了。
IoC很好的体现了面向对象设计法则之一————好莱坞法则：“别找我们，我们找你”；即由IoC容器帮对象找相应的依赖对象并注入，而不是由对象主动去找。">
    <meta name="keywords" content=",Java,Spring,IoC,依赖注入">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 500ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.proxy.ustclug.org/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="新世界的Kami">
    <meta name="msapplication-starturl" content="https://newkami.cn/2017/10/27/spring-note/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="新世界的Kami">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/logo.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://newkami.cn/2017/10/27/spring-note/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Spring 学习笔记 | 新世界的Kami">
    <meta property="og:image" content="/img/logo.png">
    <meta property="og:description" content="1. Spring 是什么？Spring是一个分层的 JavaSE/EE full-stack(一站式) 轻量级开源框架。
2. Spring IoC1. IoC 是什么Ioc 全称是 Inversion of Control 即“控制反转”，一种设计思想。
Ioc就是由容器来负责控制对象的生命周期和对象间的关系。IoC对编程带来的最大改变不是从代码上，而是从思想上，发生了“主从换位”的变化。应用程序原本是老大，要获取什么资源都是主动出击，但是在IoC/DI思想中，应用程序就变成被动的了，被动的等待IoC容器来创建并注入它所需要的资源了。
IoC很好的体现了面向对象设计法则之一————好莱坞法则：“别找我们，我们找你”；即由IoC容器帮对象找相应的依赖对象并注入，而不是由对象主动去找。">
    <meta property="og:article:tag" content="Java"> <meta property="og:article:tag" content="Spring"> <meta property="og:article:tag" content="IoC"> <meta property="og:article:tag" content="依赖注入"> 

    
        <meta property="article:published_time" content="Fri Oct 27 2017 09:00:00 GMT+0800">
        <meta property="article:modified_time" content="Sat Jan 19 2019 23:13:08 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://newkami.cn/2017/10/27/spring-note/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://newkami.cn/2017/10/27/spring-note/index.html",
    "headline": "Spring 学习笔记",
    "datePublished": "Fri Oct 27 2017 09:00:00 GMT+0800",
    "dateModified": "Sat Jan 19 2019 23:13:08 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "FETE",
        "image": {
            "@type": "ImageObject",
            "url": "/img/author.jpg"
        },
        "description": "感谢你停下匆忙的脚步,你可以随意浏览,希望你开心"
    },
    "publisher": {
        "@type": "Organization",
        "name": "新世界的Kami",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/logo.png"
        }
    },
    "keywords": ",Java,Spring,IoC,依赖注入",
    "description": "1. Spring 是什么？Spring是一个分层的 JavaSE/EE full-stack(一站式) 轻量级开源框架。
2. Spring IoC1. IoC 是什么Ioc 全称是 Inversion of Control 即“控制反转”，一种设计思想。
Ioc就是由容器来负责控制对象的生命周期和对象间的关系。IoC对编程带来的最大改变不是从代码上，而是从思想上，发生了“主从换位”的变化。应用程序原本是老大，要获取什么资源都是主动出击，但是在IoC/DI思想中，应用程序就变成被动的了，被动的等待IoC容器来创建并注入它所需要的资源了。
IoC很好的体现了面向对象设计法则之一————好莱坞法则：“别找我们，我们找你”；即由IoC容器帮对象找相应的依赖对象并注入，而不是由对象主动去找。",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn" class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-Spring-是什么？"><span class="post-toc-text">1. Spring 是什么？</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-Spring-IoC"><span class="post-toc-text">2. Spring IoC</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-IoC-是什么"><span class="post-toc-text">1. IoC 是什么</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-DI-是什么"><span class="post-toc-text">2. DI 是什么</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-IoC-和-DI-的关系"><span class="post-toc-text">3. IoC 和 DI 的关系</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-IoC-容器"><span class="post-toc-text">4. IoC 容器</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-Spring-bean"><span class="post-toc-text">2. Spring bean</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-Spring-bean是什么"><span class="post-toc-text">1. Spring bean是什么</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-bean-的xml配置"><span class="post-toc-text">2. bean 的xml配置</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-bean-的作用域"><span class="post-toc-text">3. bean 的作用域</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-bean-的生命周期"><span class="post-toc-text">4. bean 的生命周期</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-bean-的初始化回调"><span class="post-toc-text">1. bean 的初始化回调</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-bean-的销毁回调"><span class="post-toc-text">2. bean 的销毁回调</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-默认的初始化回调和销毁回调"><span class="post-toc-text">3. 默认的初始化回调和销毁回调</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-bean的生命周期在singleton和prototype下的不同"><span class="post-toc-text">4. bean的生命周期在singleton和prototype下的不同</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-bean-的后置处理器"><span class="post-toc-text">5. bean 的后置处理器</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-bean-的定义继承"><span class="post-toc-text">6. bean 的定义继承</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#bean-定义模板"><span class="post-toc-text">bean 定义模板</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-bean-的实例化"><span class="post-toc-text">7. bean 的实例化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-直接构造器方式"><span class="post-toc-text">1. 直接构造器方式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-静态工厂方法方式"><span class="post-toc-text">2. 静态工厂方法方式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-实例工厂方法方式"><span class="post-toc-text">3. 实例工厂方法方式</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#8-依赖注入-DI"><span class="post-toc-text">8. 依赖注入(DI)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-构造器的方式"><span class="post-toc-text">1. 构造器的方式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-setter的方式"><span class="post-toc-text">2. setter的方式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用-p-namespace-方式"><span class="post-toc-text">使用 p-namespace 方式</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#8-bean-的自动装配"><span class="post-toc-text">8. bean 的自动装配</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-Spring-注解"><span class="post-toc-text">3. Spring 注解</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-使用-Spring-注解"><span class="post-toc-text">1. 使用 Spring 注解</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-Spring-常用注解"><span class="post-toc-text">2. Spring 常用注解</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-Spring-AOP"><span class="post-toc-text">4. Spring AOP</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-AOP-概念"><span class="post-toc-text">1. AOP 概念</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-AOP-的原理"><span class="post-toc-text">2. AOP 的原理</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-Spring-中-AOP-的实现"><span class="post-toc-text">3. Spring 中 AOP 的实现</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-xml-配置方式"><span class="post-toc-text">1. xml 配置方式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-注解方式"><span class="post-toc-text">2. 注解方式</span></a></li></ol></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 2 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Spring 学习笔记
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/author.jpg" width="44px" height="44px" alt="Author Avatar">
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>FETE</strong>
        <span>10月 27, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/IoC/">IoC</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Java/">Java</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Spring/">Spring</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/依赖注入/">依赖注入</a>
    </li></ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Spring 学习笔记&url=https://newkami.cn/2017/10/27/spring-note/index.html&pic=https://newkami.cn/img/favicon.ico&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Spring 学习笔记&url=https://newkami.cn/2017/10/27/spring-note/index.html&via=FETE" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://newkami.cn/2017/10/27/spring-note/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://newkami.cn/2017/10/27/spring-note/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h2 id="1-Spring-是什么？"><a href="#1-Spring-是什么？" class="headerlink" title="1. Spring 是什么？"></a>1. Spring 是什么？</h2><p>Spring是一个分层的 JavaSE/EE <strong>full-stack(一站式)</strong> 轻量级开源框架。</p>
<h2 id="2-Spring-IoC"><a href="#2-Spring-IoC" class="headerlink" title="2. Spring IoC"></a>2. Spring IoC</h2><h3 id="1-IoC-是什么"><a href="#1-IoC-是什么" class="headerlink" title="1. IoC 是什么"></a>1. IoC 是什么</h3><p>Ioc 全称是 Inversion of Control 即“控制反转”，一种设计思想。</p>
<p>Ioc就是由容器来负责控制对象的生命周期和对象间的关系。IoC对编程带来的最大改变不是从代码上，而是从思想上，发生了“主从换位”的变化。应用程序原本是老大，要获取什么资源都是主动出击，但是在IoC/DI思想中，应用程序就变成被动的了，被动的等待IoC容器来创建并注入它所需要的资源了。</p>
<p>IoC很好的体现了面向对象设计法则之一————好莱坞法则：“别找我们，我们找你”；即由IoC容器帮对象找相应的依赖对象并注入，而不是由对象主动去找。</p>
<a id="more"></a>
<h3 id="2-DI-是什么"><a href="#2-DI-是什么" class="headerlink" title="2. DI 是什么"></a>2. DI 是什么</h3><p>DI 全称 Dependency Injection，即“依赖注入”，一种思想。</p>
<p>DI就是由容器动态的将某个依赖关系注入到组件之中。依赖注入的目的并非为软件系统带来更多功能，而是为了提升组件重用的频率，并为系统搭建一个灵活、可扩展的平台。</p>
<h3 id="3-IoC-和-DI-的关系"><a href="#3-IoC-和-DI-的关系" class="headerlink" title="3. IoC 和 DI 的关系"></a>3. IoC 和 DI 的关系</h3><p>IoC和DI由什么关系呢？其实DI是Ioc具体实现的其中一种方式。</p>
<p>由于控制反转概念比较含糊（可能只是理解为容器控制对象这一个层面，很难让人想到谁来维护对象关系），所以2004年大师级人物Martin Fowler又给出了一个新的概念：“依赖注入”，相对IoC 而言，“依赖注入”明确描述了“被注入对象依赖IoC容器配置依赖对象”。</p>
<h3 id="4-IoC-容器"><a href="#4-IoC-容器" class="headerlink" title="4. IoC 容器"></a>4. IoC 容器</h3><p>IoC 容器是 Spring 框架的核心。容器可以解析XML配置文件，通过java反射机制将对象创建出来，设置它们的依赖关系，并管理它们的整个生命周期从对象创建到销毁。</p>
<p>Application Context 是 spring 中较高级的容器。它可以加载配置文件中定义的 bean，将所有的 bean 集中在一起，当有请求的时候分配 bean。</p>
<p>常用的 ApplicationContext 接口实现类：</p>
<ul>
<li><p><code>FileSystemXmlApplicationContext</code>：从本地文件系统中加载XML文件，使用该实现类时需要指定配置文件在磁盘中的绝对路径。</p>
</li>
<li><p><code>ClassPathXmlApplicationContext</code>：从 CLASSPATH 环境变量加载XML文件，需指定XML文件的文件名，该实现类会从CLASSPATH中搜索，找到指定的文件。</p>
</li>
<li><p><code>WebXmlApplicationContext</code>：在web应用中使用，该实现类可以加载Servlet响应的XML文件。</p>
</li>
</ul>
<h2 id="2-Spring-bean"><a href="#2-Spring-bean" class="headerlink" title="2. Spring bean"></a>2. Spring bean</h2><h3 id="1-Spring-bean是什么"><a href="#1-Spring-bean是什么" class="headerlink" title="1. Spring bean是什么"></a>1. Spring bean是什么</h3><p>bean 是Spring IoC容器所管理的对象，在容器中被实例化，组装。bean 由XML文件的配置元数据创建。</p>
<h3 id="2-bean-的xml配置"><a href="#2-bean-的xml配置" class="headerlink" title="2. bean 的xml配置"></a>2. bean 的xml配置</h3><p>bean的基本语法：</p>
<pre><code class="xml">&lt;bean id=&quot;对象引用&quot; class=&quot;完整类名&quot; scope=&quot;对象作用域&quot;&gt;&lt;/bean&gt;
</code></pre>
<p>bean有以下常用属性：</p>
<ol>
<li><p>id 和 name</p>
<p> 都可以用来指定对象的引用名称，id和name 可以同时存在，同时存在时id的值不能为空。id或name必须指定其中的一个。</p>
</li>
<li><p>class</p>
<p> 这个属性是必须的，用来指定创建的对象的完整类名。</p>
</li>
<li><p>scope</p>
<p> 指定对象的作用域。有<code>singleton</code>，<code>prototype</code>，<code>request</code>，<code>session</code> 这四个值，默认值是<code>singleton</code>。</p>
</li>
<li><p>factory-method</p>
<p> 指定使用静态工厂方式实例化对象时调用的静态工厂方法</p>
</li>
<li><p>factory-bean</p>
<p> 指定使用实例工厂方式实例化对象时使用的实例工厂类</p>
</li>
<li><p>autowiring</p>
<p> 指定bean自动装配的模式。</p>
</li>
<li><p>lazy-init</p>
<p> 指定是否使用延迟加载模式。</p>
</li>
<li><p>init-method</p>
<p> 指定对象初始化时执行构造器后回调的方法名称。</p>
</li>
<li><p>destroy-method</p>
<p> 指定对象销毁时回调的方法名称。</p>
</li>
</ol>
<h3 id="3-bean-的作用域"><a href="#3-bean-的作用域" class="headerlink" title="3. bean 的作用域"></a>3. bean 的作用域</h3><p>bean的scope属性可以指定对象的作用域，有四种取值：</p>
<ul>
<li>singleton：指定对象是单例模式，在同一个IoC容器中只存在一个</li>
<li>prototype：指定对象是多例模式，每次请求bean时都会创建一个新的实例</li>
<li>request：指定对象的作用域在request请求中，该值在web应用中有效</li>
<li>session：指定对象的作用域在session中，该值在web应用中有效</li>
</ul>
<h3 id="4-bean-的生命周期"><a href="#4-bean-的生命周期" class="headerlink" title="4. bean 的生命周期"></a>4. bean 的生命周期</h3><p>bean 的生命周期如图所示：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/4987579-1bbf14669aad1116.png" alt="Spring bean 的生命周期"></p>
<p>生命周期执行的过程如下:</p>
<ol>
<li>spring对bean进行实例化,默认bean是单例</li>
<li>spring对bean进行依赖注入</li>
<li>如果bean实现了BeanNameAware接口,spring将bean的id传给setBeanName()方法</li>
<li>如果bean实现了BeanFactoryAware接口,spring将调用setBeanFactory方法,将BeanFactory实例传进来</li>
<li>如果bean实现了ApplicationContextAware()接口,spring将调用setApplicationContext()方法将应用上下文的引用传入</li>
<li>如果bean实现了BeanPostProcessor接口,spring将调用它们的postProcessBeforeInitialization接口方法</li>
<li>如果bean实现了InitializingBean接口,spring将调用它们的afterPropertiesSet接口方法,类似的如果bean使用了init-method属性声明了初始化方法,改方法也会被调用</li>
<li>如果bean实现了BeanPostProcessor接口,spring将调用它们的postProcessAfterInitialization接口方法</li>
<li>此时bean已经准备就绪,可以被应用程序使用了,他们将一直驻留在应用上下文中,直到该应用上下文被销毁</li>
<li>若bean实现了DisposableBean接口,spring将调用它的distroy()接口方法。同样的,如果bean使用了destroy-method属性声明了销毁方法,则该方法被调用。</li>
</ol>
<h4 id="1-bean-的初始化回调"><a href="#1-bean-的初始化回调" class="headerlink" title="1. bean 的初始化回调"></a>1. bean 的初始化回调</h4><p>bean的init-method属性可以指定bean在初始化时调用的方法 。该方法是一个void无参方法，必须先在bean所属的类中定义。</p>
<h4 id="2-bean-的销毁回调"><a href="#2-bean-的销毁回调" class="headerlink" title="2. bean 的销毁回调"></a>2. bean 的销毁回调</h4><p>bean的destroy-method属性可以指定bean在销毁后调用的方法。该方法是一个void无参数方法，必须先在bean所属的类中定义。</p>
<h4 id="3-默认的初始化回调和销毁回调"><a href="#3-默认的初始化回调和销毁回调" class="headerlink" title="3. 默认的初始化回调和销毁回调"></a>3. 默认的初始化回调和销毁回调</h4><h4 id="4-bean的生命周期在singleton和prototype下的不同"><a href="#4-bean的生命周期在singleton和prototype下的不同" class="headerlink" title="4. bean的生命周期在singleton和prototype下的不同"></a>4. bean的生命周期在singleton和prototype下的不同</h4><p>//TODO</p>
<p>在prototype的作用域下，bean 的destroy-method是无效的。因为在prototype下，同一类型的对象会有多个，当你每访问一次bean时，IoC容器都会创建一个新的对象，同时失去这个对象的控制权，不再管理这个对象，也就调用不了对象内的方法。</p>
<h3 id="5-bean-的后置处理器"><a href="#5-bean-的后置处理器" class="headerlink" title="5. bean 的后置处理器"></a>5. bean 的后置处理器</h3><p>在类中实现BeanPostProcessor接口，并实现 <code>Object postProcessBeforeInitialization(Object bean, String beanName)</code> 方法和 <code>Object postProcessAfterInitialization(Object bean, String beanName)</code> 方法。</p>
<p>//TODO</p>
<h3 id="6-bean-的定义继承"><a href="#6-bean-的定义继承" class="headerlink" title="6. bean 的定义继承"></a>6. bean 的定义继承</h3><p>bean的parent属性可以指定一个bean成为此bean的父bean。子bean通过继承拥有父bean的属性值，子bean可以根据需要重写一些值，或者添加其他值。</p>
<p>Spring Bean 定义的继承与 Java 类的继承无关，但是继承的概念是一样的。</p>
<h4 id="bean-定义模板"><a href="#bean-定义模板" class="headerlink" title="bean 定义模板"></a>bean 定义模板</h4><p>可以创建一个 bean 定义模板，让其他子bean都继承这个父bean。</p>
<p>在定义一个 bean 定义模板时，不能指定class属性的值，且需要指定abstract属性的值为 <code>true</code>。如下所示：</p>
<pre><code class="xml">&lt;bean id=&quot;beanTeamplate&quot; abstract=&quot;true&quot;&gt;
      &lt;property name=&quot;java类的属性1&quot; value=&quot;...&quot;/&gt;
      &lt;property name=&quot;java类的属性2&quot; value=&quot;...&quot;/&gt;
      &lt;property name=&quot;java类的属性3&quot; value=&quot;...&quot;/&gt;
&lt;/bean&gt;

</code></pre>
<p>bean 定义模板不能被实例化，因为它不完整，它明确地被指定为抽象的。</p>
<h3 id="7-bean-的实例化"><a href="#7-bean-的实例化" class="headerlink" title="7. bean 的实例化"></a>7. bean 的实例化</h3><p>可以通过三种方式实例化bean</p>
<h4 id="1-直接构造器方式"><a href="#1-直接构造器方式" class="headerlink" title="1. 直接构造器方式"></a>1. 直接构造器方式</h4><p>使用构造器方式，只需指定bean的id和class属性</p>
<pre><code class="xml">&lt;bean id=&quot;...&quot; class=&quot;所属的类&quot;&gt;&lt;/bean&gt;
</code></pre>
<h4 id="2-静态工厂方法方式"><a href="#2-静态工厂方法方式" class="headerlink" title="2. 静态工厂方法方式"></a>2. 静态工厂方法方式</h4><p>使用静态工厂方法方式，需指定bean的factory-method属性。必须有一个静态工厂类，类中定义了返回其它类对象的静态方法。</p>
<pre><code class="xml">&lt;bean id=&quot;...&quot; class=&quot;静态工厂类&quot;  factory-method=&quot;返回其它类对象的静态方法&quot;&gt;&lt;/bean&gt;
</code></pre>
<h4 id="3-实例工厂方法方式"><a href="#3-实例工厂方法方式" class="headerlink" title="3. 实例工厂方法方式"></a>3. 实例工厂方法方式</h4><p>使用实例工厂方法方式，需要先定义实例工厂的bean，再在另一个bean中指定factory-bean属性和factory-method属性。必须有一个工厂类，类中定义了返回其它类对象的方法。</p>
<pre><code class="xml">&lt;bean id=&quot;factory&quot; class=&quot;实例工厂类&quot;&gt;&lt;/bean&gt;
&lt;bean id=&quot;...&quot; factory-bean=&quot;factory&quot; factory-method=&quot;返回其它类对象的方法&quot;&gt;&lt;/bean&gt;
</code></pre>
<h3 id="8-依赖注入-DI"><a href="#8-依赖注入-DI" class="headerlink" title="8. 依赖注入(DI)"></a>8. 依赖注入(DI)</h3><p>在bean中实现依赖注入有以下两种方式：</p>
<ul>
<li>基于构造器的方式</li>
<li>基于setter的方式</li>
</ul>
<h4 id="1-构造器的方式"><a href="#1-构造器的方式" class="headerlink" title="1. 构造器的方式"></a>1. 构造器的方式</h4><p>使用构造器注入的方式：</p>
<pre><code class="xml">&lt;bean id=&quot;...&quot; class=&quot;...&quot;&gt;
    &lt;constructor-arg index=&quot;0&quot; name=&quot;&quot; type=&quot;&quot; value=&quot;&quot; ref=&quot;&quot;/&gt;
    &lt;constructor-arg index=&quot;1&quot; name=&quot;&quot; type=&quot;&quot; value=&quot;&quot; ref=&quot;&quot;/&gt;
    ...
&lt;/bean&gt;
</code></pre>
<p>使用构造器方式，需要使用bean的子标签constructor-arg。constructor-arg标签有以下属性：</p>
<ul>
<li>index</li>
<li>name</li>
<li>type</li>
<li>value</li>
<li>ref</li>
</ul>
<ol>
<li><p>index属性name属性</p>
<p> 都可以用来指定此constructor-arg标签代表的是哪个参数。不同的是，index指定的是参数的位置(从0开始)；name指定的是参数的名称。二者可以同时存在，一般使用index。</p>
</li>
<li><p>type属性</p>
<p> 显式的指定构造函数参数的类型，</p>
</li>
<li><p>value属性和ref属性</p>
<p> 都可以用来指定参数要传递的值。不同的是，value是直接传值；ref传递的是对象引用。二者不可以同时存在。</p>
</li>
</ol>
<h4 id="2-setter的方式"><a href="#2-setter的方式" class="headerlink" title="2. setter的方式"></a>2. setter的方式</h4><p>使用setter注入：</p>
<pre><code class="xml">&lt;bean id=&quot;...&quot; class=&quot;...&quot;&gt;
    &lt;property name=&quot;&quot; value=&quot;&quot; ref=&quot;&quot;/&gt;
    &lt;property name=&quot;&quot; value=&quot;&quot; ref=&quot;&quot;/&gt;
    &lt;property name=&quot;&quot; value=&quot;&quot; ref=&quot;&quot;/&gt;
    ...
&lt;/bean&gt;
</code></pre>
<p>使用setter方式需要使用bean的子标签property。property有以下三个属性：</p>
<ul>
<li>name：用来指定set方法的参数名称。</li>
<li>value：用来指定参数要传递的值。</li>
<li>ref：指定set方法的参数传递给对象的引用。</li>
</ul>
<h4 id="使用-p-namespace-方式"><a href="#使用-p-namespace-方式" class="headerlink" title="使用 p-namespace 方式"></a>使用 p-namespace 方式</h4><p>如果有一个类有非常多的set方法，那么在xml文件中就要写非常多的property子标签，这会造成代码冗余严重。这时可以使用一种更为简洁的方式————<code>p-namespace</code>进行重写。</p>
<p>下面是标准的XML配置文件</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;

    &lt;bean id=&quot;john-classic&quot; class=&quot;com.example.Person&quot;&gt;
        &lt;property name=&quot;name&quot; value=&quot;John Doe&quot;/&gt;
        &lt;property name=&quot;spouse&quot; ref=&quot;jane&quot;/&gt;
    &lt;/bean&gt;

    &lt;bean name=&quot;jane&quot; class=&quot;com.example.Person&quot;&gt;
        &lt;property name=&quot;name&quot; value=&quot;John Doe&quot;/&gt;
    &lt;/bean&gt;
&lt;/beans&gt;
</code></pre>
<p>下面是使用了 p-namespace 方式的：</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;

    &lt;bean id=&quot;john-classic&quot; class=&quot;com.example.Person&quot; p:name=&quot;John Doe&quot; p:spouse-ref=&quot;jane&quot;/&gt;&lt;/bean&gt;

    &lt;bean name=&quot;jane&quot; class=&quot;com.example.Person&quot; p:name=&quot;John Doe&quot;/&gt;&lt;/bean&gt;
&lt;/beans&gt;
</code></pre>
<p><strong>注意：使用<code>p-namespace</code>需要添加名称空间<code>xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</code>！</strong></p>
<h3 id="8-bean-的自动装配"><a href="#8-bean-的自动装配" class="headerlink" title="8. bean 的自动装配"></a>8. bean 的自动装配</h3><h2 id="3-Spring-注解"><a href="#3-Spring-注解" class="headerlink" title="3. Spring 注解"></a>3. Spring 注解</h2><p>传统的Spring做法是使用xml文件来对bean进行注入或者是配置aop、事物，这么做有两个缺点：</p>
<ul>
<li>如果所有的内容都配置在xml文件中，那么xml文件将会十分庞大；如果按需求分开xml文件，那么xml文件又会非常多。总之这将导致配置文件的可读性与可维护性变得很低。</li>
<li>在开发中在java文件和xml文件之间不断切换，是一件麻烦的事，同时这种思维上的不连贯也会降低开发的效率。</li>
</ul>
<p>为了解决这两个问题，Spring引入了注解。注解与Java Bean紧密结合，既大大减少了配置文件的体积，又增加了Java Bean的可读性与内聚性。</p>
<h3 id="1-使用-Spring-注解"><a href="#1-使用-Spring-注解" class="headerlink" title="1. 使用 Spring 注解"></a>1. 使用 Spring 注解</h3><p>使用Spring注解之前需要在XML配置文件中添加名称空间和资源路径，然后再开启自动扫描功能，其中base-package为需要扫描的包(含子包)。</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;
    &lt;context:component-scan base-package=&quot;...&quot;/&gt;
    ...
&lt;/beans&gt;
</code></pre>
<h3 id="2-Spring-常用注解"><a href="#2-Spring-常用注解" class="headerlink" title="2. Spring 常用注解"></a>2. Spring 常用注解</h3><ol>
<li><code>@Configuration</code> 把一个类作为一个IoC容器，它的某个方法头上如果注册了@Bean，就会作为这个Spring容器中的Bean。</li>
<li><code>@Scope</code> 作用域范围</li>
<li><code>@Lazy(true)</code> 表示延迟初始化</li>
<li><code>@Service</code> 用于标注业务层组件</li>
<li>@Controller 用于标注控制层组件（如struts中的action）</li>
<li>@Repository 用于标注数据访问组件，即DAO组件。</li>
<li>@Component 泛指组件，当组件不好归类的时候，我们可以使用这个注解进行标注。</li>
<li>@Scope 用于指定scope作用域的（用在类上）</li>
<li>@PostConstruct 用于指定初始化方法（用在方法上）</li>
<li>@PreDestory 用于指定销毁方法（用在方法上）</li>
<li>@DependsOn 定义Bean初始化及销毁时的顺序</li>
<li>@Primary 自动装配时当出现多个Bean候选者时，被注解为@Primary的Bean将作为首选者，否则将抛出异常</li>
<li>@Autowired 默认按类型装配，如果我们想使用按名称装配，可以结合@Qualifier注解一起使用。如下：<br>@Autowired @Qualifier(“personDaoBean”) 存在多个实例配合使用</li>
<li>@Resource 默认按名称装配，当找不到与名称匹配的bean才会按类型装配。</li>
<li>@PostConstruct 初始化注解</li>
<li>@PreDestroy 摧毁注解 默认 单例  启动就加载</li>
<li>@Async 异步方法调用</li>
</ol>
<h2 id="4-Spring-AOP"><a href="#4-Spring-AOP" class="headerlink" title="4. Spring AOP"></a>4. Spring AOP</h2><p>AOP(Aspect-Oriented Programming), 即 <strong>面向切面编程</strong>, 它与 OOP( Object-Oriented Programming, 面向对象编程) 相辅相成, 提供了与 OOP 不同的抽象软件结构的视角。</p>
<p>在 OOP 中, 我们以类(class)作为我们的基本单元, 而 AOP 中的基本单元是 Aspect(切面)。</p>
<h3 id="1-AOP-概念"><a href="#1-AOP-概念" class="headerlink" title="1. AOP 概念"></a>1. AOP 概念</h3><ol>
<li><p>连接点(Join point)：</p>
<p> 类里面有哪些点可以被增强（新增一些逻辑或功能），这些点可以是属性，方法或者构造器，在Spring中连接点只能是方法。</p>
</li>
<li><p>切入点(Pointcut)：</p>
<p> 在类里有许多的连接点，实际增强的连接点称为切入点。</p>
</li>
<li><p>通知/增强(advice)：</p>
<p> 扩展的功能或者逻辑，有以下5种增强：</p>
<ul>
<li>前置通知(before)：在切入点之前执行增强。</li>
<li>返回后置通知(after-returning)：只有在切入点成功返回结果后，才执行增强。</li>
<li>异常后通知(after-throwing)：只有当切入点执行时抛出异常时，才能执行增强。</li>
<li>环绕通知(around)：可以在一个切入点的之前和之后添加不同的操作, 并且甚至可以决定何时, 如何, 是否调用匹配到的方法。</li>
<li>后置(最终)通知(after)：不管切入点的执行结果如何都会执行增强。</li>
</ul>
</li>
<li><p>切面(Aspect)：</p>
<p> 由切入点和增强组成，把增强用到切入点的过程，也可以简单地认为, 使用 <code>@Aspect</code> 注解的类就是切面。</p>
</li>
<li><p>目标对象(Target)：</p>
<p> 代理的目标对象（要增强的类）。</p>
</li>
<li><p>引入(Introduction)：</p>
<p> 可以在不修改类文件的前提下，在<strong>运行期</strong>为类动态地添加一些属性或方法。</p>
</li>
<li><p>织入(Weaving)：</p>
<p> 将切面和其他对象连接起来, 并创建代理对象的过程。</p>
</li>
<li><p>代理(Proxy)：</p>
<p> 一个类被 AOP 织入增强, 就会产生一个结果类, 它是融合了原类和增强逻辑的代理类。</p>
</li>
</ol>
<h3 id="2-AOP-的原理"><a href="#2-AOP-的原理" class="headerlink" title="2. AOP 的原理"></a>2. AOP 的原理</h3><p>Spring AOP 默认使用标准的 JDK 动态代理(dynamic proxy)技术来实现 AOP 代理, 通过它, 我们可以为任意的接口实现代理.</p>
<p>如果需要为一个类实现代理, 那么可以使用 CGLIB 代理. 当一个业务逻辑对象没有实现接口时, 那么Spring AOP 就默认使用 CGLIB 来作为 AOP 代理了. 即如果我们需要为一个方法织入 advice, 但是这个方法不是一个接口所提供的方法, 则此时 Spring AOP 会使用 CGLIB 来实现动态代理. 鉴于此, Spring AOP 建议基于接口编程, 对接口进行 AOP 而不是类.</p>
<ol>
<li>Java SE 动态代理</li>
<li>CGLib 动态代理<h3 id="3-Spring-中-AOP-的实现"><a href="#3-Spring-中-AOP-的实现" class="headerlink" title="3. Spring 中 AOP 的实现"></a>3. Spring 中 AOP 的实现</h3>在 Spring 中使用 AOP 需要在XML文件中添加名称空间和资源路径<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context.xsd
    http://www.springframework.org/schema/aop
    http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;
&lt;/beans&gt;
</code></pre>
</li>
</ol>
<h4 id="1-xml-配置方式"><a href="#1-xml-配置方式" class="headerlink" title="1. xml 配置方式"></a>1. xml 配置方式</h4><pre><code class="xml">&lt;aop:config&gt;
    &lt;!-- 声明切面 --&gt;
    &lt;aop:aspect id=&quot;myAspect&quot; ref=&quot;目标对象&quot;&gt;
        &lt;!-- 声明切入点，expression 用来匹配哪些方法是切入点 --&gt;
        &lt;aop:pointcut id=&quot;...&quot; expression=&quot;execution(* com.xyz.myapp.service.*.*(..))&quot;/&gt;
        &lt;!-- 前置通知 --&gt;
        &lt;aop:before pointcut-ref=&quot;切入点&quot; method=&quot;执行的方法&quot;/&gt;
        &lt;!-- 后置(最终)通知 --&gt;
        &lt;aop:after pointcut-ref=&quot;切入点&quot; method=&quot;执行的方法&quot;/&gt;
        &lt;!-- 返回后通知 --&gt;
        &lt;aop:after-returning pointcut-ref=&quot;切入点&quot; returning=&quot;返回值类型&quot; method=&quot;执行的方法&quot;/&gt;
        &lt;!-- 异常后通知 --&gt;
        &lt;aop:after-throwing pointcut-ref=&quot;切入点&quot; throwing=&quot;异常类型&quot; method=&quot;执行的方法&quot;/&gt;
        &lt;!-- 环绕通知 --&gt;
        &lt;aop:around pointcut-ref=&quot;切入点&quot; method=&quot;执行的方法&quot;/&gt;
    &lt;/aop:aspect&gt;
&lt;/aop:config&gt;
</code></pre>
<h4 id="2-注解方式"><a href="#2-注解方式" class="headerlink" title="2. 注解方式"></a>2. 注解方式</h4><p>@AspectJ 是一种使用 Java 注解来实现 AOP 的编码风格。@AspectJ 风格的 AOP 是 AspectJ Project 在 AspectJ 5 中引入的, 并且 Spring 也支持@AspectJ 的 AOP 风格。</p>
<p>使用 @AspectJ 需要添加以下依赖库：</p>
<ul>
<li>aspectjrt.jar</li>
<li>aspectjweaver.jar</li>
<li>aspectj.jar</li>
<li>aopalliance.jar</li>
</ul>
<p>然后在xml文件中打开 Spring 的自动代理</p>
<pre><code class="xml">&lt;aop:aspectj-autoproxy/&gt;
</code></pre>
<p>Spring 会自动选择代理方式，但是如果需要为一个类实现代理或者想强制使用CGLib生成代理，则可以指定 “proxy-target-class” 属性为 <code>true</code> 。</p>
<pre><code class="xml">&lt;aop:aspectj-autoproxy proxy-target-class=&quot;true&quot;/&gt;
</code></pre>
<ol>
<li><p>声明切面</p>
<p> 当使用注解 @Aspect 标注一个 Bean 后, 那么 Spring 框架会自动收集这些 Bean, 并添加到 Spring AOP 中, 例如:</p>
<pre><code class="java"> @Component
 @Aspect
 public class MyTest {
     //TODO
 }
</code></pre>
<p> 注意, 仅仅使用@Aspect 注解, 并不能将一个 Java 对象转换为 Bean, 因此我们还需要使用类似 @Component 之类的注解。还有，如果一个 类被@Aspect 标注, 则这个类就不能是其他 aspect 的 <strong>advised object</strong> 了, 因为使用 @Aspect 后, 这个类就会被排除在 auto-proxying 机制之外。</p>
</li>
<li><p>声明切入点</p>
<p> 一个 pointcut 的声明由两部分组成:</p>
<ul>
<li>一个 pointcut 表达式, 用来指定哪些方法执行是我们感兴趣的(即因此可以织入 advice)。</li>
<li>一个方法签名, 包括方法名和相关参数。<pre><code class="java">@Pointcut(&quot;execution(* com.xyz.myapp.service.*.*(..))&quot;)
private void businessService() {
  //TODO
}
</code></pre>
<strong>注意：此方法必须无返回值！</strong></li>
</ul>
</li>
<li><p>声明增强</p>
<p> 可以使用 <code>@{ADVICE-NAME}</code> 注释声明五个增强的任意一个，如下所示：</p>
<pre><code class="java"> @Before(&quot;businessService()&quot;)
 public void doBeforeTask(){
     //TODO
 }
 @AfterReturning(pointcut = &quot;businessService()&quot;, returning=&quot;retVal&quot;)
 public void doAfterReturnningTask(Object retVal){
     //TODO
 }
 @AfterThrowing(pointcut = &quot;businessService()&quot;, throwing=&quot;ex&quot;)
 public void doAfterThrowingTask(Exception ex){
     //TODO
 }
 @Around(&quot;businessService()&quot;)
 public void doAroundTask(){
     //TODO        
 }
 @After(&quot;businessService()&quot;)
 public void doAfterTask(){
     //TODO
 }
</code></pre>
</li>
</ol>
<hr>
<p><strong>欢迎转载，转载请注明出处：<a href="https://newkami.cn/2017/10/27/spring-note/">https://newkami.cn/2017/10/27/spring-note/</a></strong></p>

        
                <blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;">
                    <p><strong>
                         
                            <a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png"></a><br>本博客采用<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可。
                        </strong>
                        <br>
                        <strong>本文链接：</strong><a href="https://newkami.cn/2017/10/27/spring-note/">https://newkami.cn/2017/10/27/spring-note/</a>
                    </p>
                </blockquote>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/11/20/install-jdk/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/10/23/hibernate-note/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/author.jpg" alt="FETE's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        rabbitshotel@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: rabbitshotel@gmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/11/">十一月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/05/">五月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/03/">三月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/12/">十二月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/11/">十一月 2017<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">十月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">2</span></a>
            </li></ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/学习笔记/">学习笔记<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/categories/技术教程/">技术教程<span class="sidebar_archives-count">6</span></a>
            </li></ul>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags/index.html" title="标签云">
                
                    <i class="material-icons sidebar-material-icons">loyalty</i>
                
                标签云
            </a>
        </li>
        
            <li class="divider"></li>
        
    
        <li>
            <a href="/timeline/index.html" title="时间轴">
                
                    <i class="material-icons sidebar-material-icons">timeline</i>
                
                时间轴
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material" class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/FETE_CH" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    
        <a href="https://www.weibo.com/menghuanzox" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-weibo">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/FETE-CH" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    
        <a href="https://www.jianshu.com/u/2b77d70f5e8f" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-zhihu">
                <span class="visuallyhidden">Zhihu</span>
            </button><!--
     --></a>
    

    <!-- Bilibili -->
    
        <a href="https://space.bilibili.com/3191046" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-bilibili">
                <span class="visuallyhidden">Bilibili</span>
            </button><!--
     --></a>
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
        <a href="https://segmentfault.com/u/fete" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-segmentfault">
                <span class="visuallyhidden">Segmentfault</span>
            </button><!--
     --></a>
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year=""></span>&nbsp;新世界的Kami
            
                <br>
                
                    生命不息，学习不止
                
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 500);
</script>







    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>







<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->


    
        <script>lsloader.load("hanabi","/js/hanabi-browser-bundle.js?Pki5+pzkluqu53g+ouMWpA==", true)</script>
    


<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
        
        
        HanabiBrowser.start('pre code',true);
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2017;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
